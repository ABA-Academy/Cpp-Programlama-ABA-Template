name: Soru 5 - FaktÃ¶riyel Test

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  test:
    name: FaktÃ¶riyel Testi
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3

    - name: Derle
      run: |
        g++ -std=c++17 -o program main.cpp
        echo "âœ… Derleme baÅŸarÄ±lÄ±"

    - name: Test 1 - 5! = 120
      run: |
        echo "5" | ./program > output.txt
        result=$(cat output.txt | tr -d '[:space:]')
        if [ "$result" = "120" ]; then
          echo "âœ… Test 1 BAÅARILI: 5! = 120"
        else
          echo "âŒ Beklenen: 120, Ã‡Ä±ktÄ±: $result"
          exit 1
        fi

    - name: Test 2 - 0! = 1
      run: |
        echo "0" | ./program > output.txt
        result=$(cat output.txt | tr -d '[:space:]')
        if [ "$result" = "1" ]; then
          echo "âœ… Test 2 BAÅARILI: 0! = 1"
        else
          echo "âŒ Beklenen: 1, Ã‡Ä±ktÄ±: $result"
          exit 1
        fi

    - name: Test 3 - 3! = 6
      run: |
        echo "3" | ./program > output.txt
        result=$(cat output.txt | tr -d '[:space:]')
        if [ "$result" = "6" ]; then
          echo "âœ… Test 3 BAÅARILI: 3! = 6"
        else
          echo "âŒ Beklenen: 6, Ã‡Ä±ktÄ±: $result"
          exit 1
        fi

    - name: Test 4 - 10! = 3628800
      run: |
        echo "10" | ./program > output.txt
        result=$(cat output.txt | tr -d '[:space:]')
        if [ "$result" = "3628800" ]; then
          echo "âœ… Test 4 BAÅARILI: 10! = 3628800"
        else
          echo "âŒ Beklenen: 3628800, Ã‡Ä±ktÄ±: $result"
          exit 1
        fi

    - name: SonuÃ§
      run: echo "ğŸ‰ TÃ¼m testler baÅŸarÄ±lÄ±!"
