name: Soru 2 - Ä°ki SayÄ±nÄ±n ToplamÄ± Test

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  test:
    name: Ä°ki SayÄ±nÄ±n ToplamÄ± Testi
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3

    - name: Derle
      run: |
        g++ -std=c++17 -o program main.cpp
        echo "âœ… Derleme baÅŸarÄ±lÄ±"

    - name: Test 1 - Pozitif SayÄ±lar (5 + 3 = 8)
      run: |
        echo "5
        3" | ./program > output.txt
        result=$(cat output.txt | tr -d '[:space:]')

        if [ "$result" = "8" ]; then
          echo "âœ… Test 1 BAÅARILI: 5 + 3 = 8"
        else
          echo "âŒ Test 1 BAÅARISIZ"
          echo "Beklenen: 8"
          echo "Ã‡Ä±ktÄ±nÄ±z: $result"
          exit 1
        fi

    - name: Test 2 - Negatif SayÄ± (-10 + 7 = -3)
      run: |
        echo "-10
        7" | ./program > output.txt
        result=$(cat output.txt | tr -d '[:space:]')

        if [ "$result" = "-3" ]; then
          echo "âœ… Test 2 BAÅARILI: -10 + 7 = -3"
        else
          echo "âŒ Test 2 BAÅARISIZ"
          echo "Beklenen: -3"
          echo "Ã‡Ä±ktÄ±nÄ±z: $result"
          exit 1
        fi

    - name: Test 3 - BÃ¼yÃ¼k SayÄ±lar (100 + 200 = 300)
      run: |
        echo "100
        200" | ./program > output.txt
        result=$(cat output.txt | tr -d '[:space:]')

        if [ "$result" = "300" ]; then
          echo "âœ… Test 3 BAÅARILI: 100 + 200 = 300"
        else
          echo "âŒ Test 3 BAÅARISIZ"
          echo "Beklenen: 300"
          echo "Ã‡Ä±ktÄ±nÄ±z: $result"
          exit 1
        fi

    - name: Test 4 - SÄ±fÄ±r ile Toplama (0 + 42 = 42)
      run: |
        echo "0
        42" | ./program > output.txt
        result=$(cat output.txt | tr -d '[:space:]')

        if [ "$result" = "42" ]; then
          echo "âœ… Test 4 BAÅARILI: 0 + 42 = 42"
        else
          echo "âŒ Test 4 BAÅARISIZ"
          echo "Beklenen: 42"
          echo "Ã‡Ä±ktÄ±nÄ±z: $result"
          exit 1
        fi

    - name: TÃ¼m Testler BaÅŸarÄ±lÄ±
      run: |
        echo ""
        echo "ğŸ‰ TEBRÄ°KLER! TÃ¼m testleri geÃ§tiniz!"
        echo "âœ… 4/4 test baÅŸarÄ±lÄ±"
