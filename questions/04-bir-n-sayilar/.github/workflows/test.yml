name: Soru 4 - 1'den N'e SayÄ±lar Test

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  test:
    name: 1'den N'e SayÄ±lar Testi
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3

    - name: Derle
      run: |
        g++ -std=c++17 -o program main.cpp
        echo "âœ… Derleme baÅŸarÄ±lÄ±"

    - name: Test 1 - N=5
      run: |
        echo "5" | ./program > output.txt
        expected="1
        2
        3
        4
        5"
        if diff -w <(echo "$expected") output.txt; then
          echo "âœ… Test 1 BAÅžARILI"
        else
          echo "âŒ Test 1 BAÅžARISIZ"
          echo "Beklenen:"
          echo "$expected"
          echo "Ã‡Ä±ktÄ±nÄ±z:"
          cat output.txt
          exit 1
        fi

    - name: Test 2 - N=3
      run: |
        echo "3" | ./program > output.txt
        expected="1
        2
        3"
        if diff -w <(echo "$expected") output.txt; then
          echo "âœ… Test 2 BAÅžARILI"
        else
          echo "âŒ Test 2 BAÅžARISIZ"
          exit 1
        fi

    - name: Test 3 - N=1
      run: |
        echo "1" | ./program > output.txt
        if diff -w <(echo "1") output.txt; then
          echo "âœ… Test 3 BAÅžARILI"
        else
          echo "âŒ Test 3 BAÅžARISIZ"
          exit 1
        fi

    - name: SonuÃ§
      run: echo "ðŸŽ‰ TÃ¼m testler baÅŸarÄ±lÄ±!"
